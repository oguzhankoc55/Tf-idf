cosmological evolution of a complex scalar field with repulsive or  attractive self-interaction we study the cosmological evolution of a complex scalar field with aself-interaction potential $v(|\varphi|^2)$, possibly describingself-gravitating bose-einstein condensates, using a fully general relativistictreatment. we generalize the hydrodynamic representation of theklein-gordon-einstein equations in the weak field approximation developed inour previous paper. we establish the general equations governing the evolutionof a spatially homogeneous complex scalar field in an expanding background. weshow how they can be simplified in the fast oscillation regime and derive theequation of state of the scalar field in parametric form for an arbitrarypotential. we explicitly consider the case of a quartic potential withrepulsive or attractive self-interaction and determine the phase diagram of thescalar field. we show that the transition between the weakly self-interactingregime and the strongly self-interacting regime depends on how the scatteringlength of the bosons compares with their effective schwarzschild radius. wealso constrain the parameters of the scalar field from astrophysical andcosmological observations. numerical applications are made for ultralightbosons without self-interaction (fuzzy dark matter), for bosons with repulsiveself-interaction, and for bosons with attractive self-interaction (qcd axionsand ultralight axions).