black hole thermodynamics from a variational principle: asymptotically  conical backgrounds the variational problem of gravity theories is directly related to black holethermodynamics. for asymptotically locally ads backgrounds it is known thatholographic renormalization results in a variational principle in terms ofequivalence classes of boundary data under the local asymptotic symmetries ofthe theory, which automatically leads to finite conserved charges satisfyingthe first law of thermodynamics. we show that this connection holds well beyondasymptotically ads black holes. in particular, we formulate the variationalproblem for $\mathcal{n}=2$ stu supergravity in four dimensions with boundaryconditions corresponding to those obeyed by the so called `subtractedgeometries'. we show that such boundary conditions can be imposed covariantlyin terms of a set of asymptotic second class constraints, and we derive theappropriate boundary terms that render the variational problem well posed intwo different duality frames of the stu model. this allows us to define finiteconserved charges associated with any asymptotic killing vector and todemonstrate that these charges satisfy the smarr formula and the first law ofthermodynamics. moreover, by uplifting the theory to five dimensions and thenreducing on a 2-sphere, we provide a precise map between the thermodynamicobservables of the subtracted geometries and those of the btz black hole.surface terms play a crucial role in this identification.